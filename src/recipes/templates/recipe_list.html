{% extends "base.html" %}

{% block styling %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index_style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/form_styles.css') }}">
{% endblock %}

{% block content %}
<div class="container-fluid">
    <center>
        <div class="card bg-dark text-white">
            <img class="card-img-top" src="{{ url_for('static', filename='img/food.jpeg') }}" alt="various foods"
                style="height: 20vw">
            <div class="card-img-overlay">
                <h1 class="card-title display-4 text-light bg-dark" style="opacity: .8">
                    Welcome to the Recipe App
                </h1>
            </div>
        </div>
    </center>
</div>
<form class="form-inline" method="get" action="{{ url_for('recipes.add_recipe')}}">
    <div class="col text-center">
        <button type="submit" class="btn-lg btn-primary mb-2">Add New Recipe</button>
    </div>
</form>
<div class="card-deck">
    {% for recipe in recipes %}
    <div class="card text-center">
        <img class="card-img-top" src="{{ url_for('static', filename='img/apples.jpeg') }}" alt="Card image cap">
        <div class="card-body">
            <h4 class="card-title">
                <a class="card-title" href="{{ url_for('recipes.recipe_detail',id=recipe.id) }}">{{recipe.title}}</a>
            </h4>
            <a href="/update_recipe/{{recipe.id}}" class="btn btn-warning">Update</a>
            <a onclick="confirmDelete('{{recipe.title}}', '{{recipe.id}}' )" class="btn btn-danger">Delete</a>
        </div>
    </div>
    {% endfor %}
</div>

<script>
    const confirmDelete = function (title, id) {
        var check = confirm(`Are you sure you want to delete ${title}`)
        if (check) {
            window.location.href = `/recipes/delete/${id}`
        }
    }
</script>

{% endblock %}